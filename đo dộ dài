<!DOCTYPE <!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">

<style>
  #map{
  height: 100%;}
</style>

  </head>
  <body>
    <div id="map"></div>
<script> 
  var map = L.map('map').setView([10.0364634, 105.7875821], 13);
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);
var toado=[];
var mk 
var polyline 
 var marker
function onMapClick(e) {

    var m =e.latlng;
    toado.push(m)
     marker = L.marker(toado[toado.length-1]).addTo(map);
    if(toado.length%2==0){
      polyline = L.polyline([toado[toado.length-2],toado[toado.length-1]], {color: 'red'}).addTo(map);
     var dodai= map.distance(toado[toado.length-2],toado[toado.length-1])
      polyline.bindPopup("Do dai la:"+dodai/1000+"km");
    }
    
     
}
map.on('click', onMapClick);
</script>
</body>
</html>>
